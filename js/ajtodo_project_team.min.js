jQuery(document).ready(function(t){t("#ajtodo_update_addthismember").click(function(o){o.preventDefault();var a=t("#ajtodo_sel_member option:selected").val(),e=t("#ajtodo_sel_member option:selected").text();if(!function(o){var a=!1;return t.each(t("#ajtodo_addmember_ing .btn-group"),function(e,n){t(n).attr("val")==o&&(a=!0)}),a}(a)){var n=function(o,a){var e="<div class='btn-group' role='group' val="+o+">";return e+="<button type='button' class='disabled btn btn-secondary'>"+a+"</button>",e+="<button type='button' class='btn btn-danger'><i class='far fa-minus-square'></i></button>",t(e+="</div>")}(a,e);t("#ajtodo_addmember_ing").append(t(n)),t(n).find(".btn-danger").click(function(o){o.preventDefault(),t(this).parent().remove()})}}),t("#ajtodo_del_role").click(function(o){o.preventDefault(),t("#dotype").val("del"),t("#ajtodo_form").submit()}),t("#ajtodo_update_role").click(function(o){o.preventDefault(),"add"!=t("#dotype").val()||onlyAlphaNumber(t("#ajtodo_status_key").val())?t("#ajtodo_form").submit():alert(ajtodo_lan.alert_onlyalpha)}),t("#ajtodo_update_memberrole").click(function(o){var a;o.preventDefault(),t("#ajtodo_users").val((a=[],t.each(t("#ajtodo_addmember_ing .btn-group"),function(o,e){a.push(t(e).attr("val"))}),a)),t("#ajtodo_role").val(t("#ajtodo_sel_member option:selected").val()),t("#ajtodo_form").submit()}),t("#ajtodo_addmember_ing .btn-danger").click(function(o){o.preventDefault(),t(this).parent().remove()}),t("#ajtodo_icon_box button").click(function(o){o.preventDefault(),t.each(t("#ajtodo_icon_box button"),function(o,a){t(this).removeClass("btn-primary")}),t("#ajtodo_status_icon").val(t(this).attr("val")),t(this).addClass("btn-primary")});t("#ajtodo_rule_table .btnaddroletostatus").click(function(o){o.preventDefault();var a,e=t(this).attr("val"),n=t(".ajtodo_sel_role[val='"+e+"'] option:selected").val(),l=t(".ajtodo_sel_role[val='"+e+"'] option:selected").text();if(!function(o,a){var e=!1;return t.each(t(".statusrolebox[val='"+a+"'] .btn-group"),function(a,n){t(n).attr("val")==o&&(e=!0)}),e}(n,e)){var r=(a="<div class='btn-group' role='group' val="+n+">",a+="<button type='button' class='disabled btn btn-secondary'>"+l+"</button>",a+="<button type='button' class='btn btn-danger'><i class='far fa-minus-square'></i></button>",t(a+="</div>"));t(".statusrolebox[val='"+e+"']").append(t(r)),t(r).find(".btn-danger").click(function(o){o.preventDefault(),t(this).parent().remove()})}}),t("#ajtodo_update_statusrole").click(function(o){o.preventDefault();var a=[];t.each(t(".statusrolebox"),function(o,e){var n=t(this).attr("val"),l=[];if(t.each(t(".statusrolebox[val='"+n+"'] .btn-group"),function(o,a){l.push(t(a).attr("val"))}),l.length>0){var r={to:n,roles:l};a.push(r)}}),t("#actionrole").val(JSON.stringify(a)),t("#ajtodo_form").submit()}),t("#btnSavePlan").click(function(o){if(o.preventDefault(),""==t("#ajtodo_plan_title").val().trim())return alert(ajtodo_lan.alert_plantitle),t("#ajtodo_plan_title").focus(),!1;t("#ajtodo_form").submit()}),t(".statusrolebox .btn-danger").click(function(o){o.preventDefault(),t(this).parent().remove()}),t("#btnDelTodoType").click(function(o){o.preventDefault(),t("#dotype").val("del"),t("#ajtodo_form").submit()}),t("#btnDelCategory").click(function(o){o.preventDefault(),t("#dotype").val("del"),t("#ajtodo_form").submit()}),t("#btnFinPlan").click(function(o){o.preventDefault(),t("#dotype").val("finish"),t("#ajtodo_form").submit()}),t("#btnDelPlan").click(function(o){o.preventDefault(),t("#dotype").val("del"),t("#ajtodo_form").submit()}),t("#ajtodo_color_box button").click(function(o){o.preventDefault();var a=t(this).attr("val");t.each(t("#ajtodo_color_box button"),function(o,e){t(e).empty(),a!=t(this).attr("val")&&t(e).append("<i class='far fa-circle'></i>")}),t("#ajtodo_todotype_color").val(t(this).attr("val")),t(this).append("<i class='far fa-check-circle'></i>")}),t("#ajtodobtn_save_category").click(function(o){return o.preventDefault(),"add"!=t("#dotype").val()||onlyAlphaNumber(t("#ajtodo_category_key").val())?""==t("#ajtodo_category_name").val()?(alert(ajtodo_lan.alert_pleaseentervalue),void t("#ajtodo_category_name").focus()):void t("#ajtodo_form").submit():(alert(ajtodo_lan.alert_onlyalpha),void t("#ajtodo_category_key").focus())}),t("#ajtodobtn_save_todotype").click(function(o){return o.preventDefault(),"add"!=t("#dotype").val()||onlyAlphaNumber(t("#ajtodo_todotype_key").val())?""==t("#ajtodo_todotype_name").val()?(alert(ajtodo_lan.alert_pleaseentervalue),void t("#ajtodo_todotype_name").focus()):void t("#ajtodo_form").submit():(alert(ajtodo_lan.alert_onlyalpha),void t("#ajtodo_todotype_key").focus())}),t("#ajtodobtn_cancel_todotype").click(function(o){o.preventDefault();var a=t("#d_p_id").val();window.location="?page=ajtodo_admin_project&ptype=team&ajtodo_type=todotype&pid="+a}),t("#ajtodobtn_cancel_category").click(function(o){o.preventDefault();var a=t("#d_p_id").val();window.location="?page=ajtodo_admin_project&ptype=team&ajtodo_type=category&pid="+a});t.each(t(".ajtodo_remain"),function(o,a){var e=t(a).attr("value");""!=e&&t(this).text(moment(e).fromNow())})});